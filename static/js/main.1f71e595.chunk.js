(this.webpackJsonpyalantis_test=this.webpackJsonpyalantis_test||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(0),a=c(16),r=c.n(a),l=(c(43),c(44),c(22)),o=c(3),i=c(10),d=c(11),j=c(4),m=c(21),u=c.n(m),b=c(35),p=c(36).create({baseURL:"https://yalantis-react-school-api.yalantis.com/api/task0/users"}),O=function(){return Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},h="ADD_EMPLOYEES",y="PUT_EMPLOYEES",E="SELECT_EMPLOYEE",f="UNSELECT_EMPLOYEE",x={employees:[],selectedEmployees:[]},v=function(e){return{type:E,id:e}},g=function(e){return{type:f,id:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)(Object(j.a)({},e),{},{employees:t.employees});case y:return Object(j.a)(Object(j.a)({},e),{},{selectedEmployees:t.selectedEmployees});case E:return localStorage.setItem("selectedEmploees",[].concat(Object(i.a)(e.selectedEmployees),[t.id])),Object(j.a)(Object(j.a)({},e),{},{selectedEmployees:[].concat(Object(i.a)(e.selectedEmployees),[t.id])});case f:var c=Object(j.a)(Object(j.a)({},e),{},{selectedEmployees:Object(i.a)(e.selectedEmployees.filter((function(e){return e!==t.id})))});return localStorage.setItem("selectedEmploees",Object(i.a)(c.selectedEmployees)),c;default:return e}},_=c(15),k=["January","February","March","April","May","June","July","August","September","October","November","December"],w=function(e){var t=e.employees,c=e.selectedEmployees,s=[];t.length&&(s=t.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(_.a)({},t.id,t))}),{}));var a=c.reduce((function(e,t){var c=function(e,t){return t[new Date(e).getMonth()]}(s[t].dob,k),n=Object(j.a)({},s[t]);return e[c]?(e[c].push(n),e):Object(j.a)(Object(j.a)({},e),{},Object(_.a)({},c,[s[t]]))}),{});return Object(n.jsxs)("div",{className:"employees_birth",children:[Object(n.jsx)("h2",{className:"employees_birth__heading",children:"Employees birhday"}),Object(n.jsx)("div",{children:0===c.length?Object(n.jsx)("div",{className:"month_card",children:"No selected employees"}):Object.keys(a).sort((function(e,t){return k.indexOf(e)-k.indexOf(t)})).map((function(e){return Object(n.jsx)(S,{monthObj:a[e],month:e,id:a[e].id},a[e][0].id)}))})]})},S=function(e){var t=e.monthObj,c=e.month;function s(e){var t=e.getDate(),c=e.getMonth(),n=e.getFullYear();return"".concat(t," ").concat(k[c]," ").concat(n)}return Object(n.jsxs)("div",{className:"month_card",children:[Object(n.jsx)("div",{className:"month_name",children:c}),Object(n.jsx)("ul",{children:Object.keys(t).sort((function(e,c){return new Date(t[e].dob)-new Date(t[c].dob)})).map((function(e){return Object(n.jsx)("li",{children:"".concat(t[e].lastName," ").concat(t[e].firstName," - ").concat(s(new Date(t[e].dob)))},t[e].id)}))})]})},D=Object(d.b)((function(e){return{employees:e.employees,selectedEmployees:e.selectedEmployees}}),{getEmployees:function(){return function(e){O().then((function(t){e({type:h,employees:t})}))}},putSelectedEmployee:function(e){return{type:y,selectedEmployees:e}},selectEmployee:v,unselectEmployee:g})((function(e){var t=Object(d.c)();Object(s.useEffect)((function(){e.getEmployees();var c=localStorage.getItem("selectedEmploees");c&&t(e.putSelectedEmployee(c.split(",")))}),[e.employee]);var c=Object(i.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZ");return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"employes",children:[Object(n.jsx)("h2",{className:"employee_heading",children:" Employees"}),Object(n.jsx)("div",{className:"alphabet",children:c.reduce((function(t,c){var s=c,a=function(t){var c=e.employees.filter((function(e){return e.lastName[0]===t}));return 0===c.length?Object(n.jsx)("div",{children:"-----"}):c.map((function(t){return Object(n.jsx)(M,{id:t.id,lastName:t.lastName,firstName:t.firstName,selectEmployee:v,unselectEmployee:g,birhday:t.dob,checked:!!e.selectedEmployees.find((function(e){return t.id===e}))},t.id)}))}(s);return[].concat(Object(i.a)(t),[Object(n.jsxs)("div",{className:"letter_block",children:[Object(n.jsx)("h2",{children:s}),Object(n.jsx)("div",{children:a})]},c)])}),[])})]}),e.employees.length>0&&Object(n.jsx)(w,{employees:e.employees,selectedEmployees:e.selectedEmployees})]})})),M=function(e){var t=e.id,c=e.lastName,s=e.firstName,a=e.selectEmployee,r=e.checked,l=Object(d.c)();return Object(n.jsxs)("div",{className:"employee_card",children:[Object(n.jsxs)("div",{children:[c," ",s]}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{type:"checkbox",checked:!!r,onChange:function(e){e.target.checked?l(a(t)):l(g(t))}})})]},t)};var L=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(o.a,{path:"/",exact:!0,children:Object(n.jsx)("div",{className:"employees_link",children:Object(n.jsx)(l.b,{to:"/employees",children:"Go to employees page"})})}),Object(n.jsx)(o.a,{path:"/employees",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"employess_page",children:Object(n.jsx)(D,{})})})})]})})},J=c(14),P=c(37),Y=N,F=Object(J.c)(Y,Object(J.a)(P.a));window.store=F;var I=F;r.a.render(Object(n.jsx)(d.a,{store:I,children:Object(n.jsx)(L,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.1f71e595.chunk.js.map