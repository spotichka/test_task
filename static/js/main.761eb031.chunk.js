(this.webpackJsonpyalantis_test=this.webpackJsonpyalantis_test||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(0),a=c(17),r=c.n(a),l=(c(44),c(45),c(23)),o=c(3),i=c(38),j=c(12),d=c(10),u=c(8),b=c(36).create({baseURL:"https://yalantis-react-school-api.yalantis.com/api/task0/users"}),m=function(){return b.get().then((function(e){return e.data}))},O="ADD_EMPLOYEES",h="SELECT_EMPLOYEE",p="UNSELECT_EMPLOYEE",y={employees:[],selectedEmployees:[]},f=function(e){return{type:h,id:e}},x=function(e){return{type:p,id:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(u.a)(Object(u.a)({},e),{},{employees:t.employees});case h:return Object(u.a)(Object(u.a)({},e),{},{selectedEmployees:[].concat(Object(j.a)(e.selectedEmployees),[t.id])});case p:return Object(u.a)(Object(u.a)({},e),{},{selectedEmployees:Object(j.a)(e.selectedEmployees.filter((function(e){return e!==t.id})))});default:return e}},v=Object(d.b)((function(e){return{employees:e.employees}}),{getEmployees:function(){return function(e){m().then((function(t){e({type:O,employees:t})}))}},selectEmployee:f,unselectEmployee:x})((function(e){Object(s.useEffect)((function(){e.getEmployees()}),[]);var t=e.employees,c=Object(j.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZ");return Object(n.jsxs)("div",{className:"employes",children:[Object(n.jsx)("h2",{className:"employee_heading",children:" Employees"}),Object(n.jsx)("div",{className:"alphabet",children:c.reduce((function(e,c){var s=c,a=function(e){var c=t.filter((function(t){return t.lastName[0]===e}));return 0===c.length?Object(n.jsx)("div",{children:"-----"}):c.map((function(e){return Object(n.jsx)(g,{id:e.id,lastName:e.lastName,firstName:e.firstName,selectEmployee:f,unselectEmployee:x,birhday:e.dob},e.id)}))}(s);return[].concat(Object(j.a)(e),[Object(n.jsxs)("div",{className:"letter_block",children:[Object(n.jsx)("h2",{children:s}),Object(n.jsx)("div",{children:a})]},c)])}),[])})]})})),g=function(e){var t,c=e.id,a=e.lastName,r=e.firstName,l=e.selectEmployee,o=Object(d.c)();"false"===localStorage.getItem(c)?t=!1:"true"===localStorage.getItem(c)&&(t=!0);var j=Object(s.useState)(t||!1),u=Object(i.a)(j,2),b=u[0],m=u[1];Object(s.useEffect)((function(){!0===b?(localStorage.setItem(c,"true"),o(l(c))):!1===b&&(localStorage.setItem(c,"false"),o(x(c)))}),[b]);return Object(n.jsxs)("div",{className:"employee_card",children:[Object(n.jsx)("div",{children:"".concat(a,"   ").concat(r)}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{type:"checkbox",checked:b,onChange:function(){m(!b)}})})]},c)},N=c(16),_=["January","February","March","April","May","June","July","August","September","October","November","December"],S=Object(d.b)((function(e){return{selectedEmployees:e.selectedEmployees,employees:e.employees}}))((function(e){var t=e.employees,c=e.selectedEmployees,s=[];t.length&&(s=t.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(N.a)({},t.id,t))}),{}));var a=c.reduce((function(e,t){var c=function(e,t){return t[new Date(e).getMonth()]}(s[t].dob,_),n=Object(u.a)({},s[t]);return e[c]?(e[c].push(n),e):Object(u.a)(Object(u.a)({},e),{},Object(N.a)({},c,[s[t]]))}),{});return Object(n.jsxs)("div",{className:"employees_birth",children:[Object(n.jsx)("h2",{className:"employees_birth__heading",children:"Employees birhday"}),Object(n.jsx)("div",{children:0===c.length?Object(n.jsx)("div",{className:"month_card",children:"No selected employees"}):Object.keys(a).sort((function(e,t){return _.indexOf(e)-_.indexOf(t)})).map((function(e){return Object(n.jsx)(k,{monthObj:a[e],month:e,id:a[e].id},a[e][0].id)}))})]})})),k=function(e){var t=e.monthObj,c=e.month;function s(e){var t=e.getDate(),c=e.getMonth(),n=e.getFullYear();return"".concat(t," ").concat(_[c]," ").concat(n)}return console.log(t),Object(n.jsxs)("div",{className:"month_card",children:[Object(n.jsx)("div",{className:"month_name",children:c}),Object(n.jsx)("ul",{children:Object.keys(t).sort((function(e,c){return new Date(t[e].dob)-new Date(t[c].dob)})).map((function(e){return Object(n.jsx)("li",{children:"".concat(t[e].lastName," ").concat(t[e].firstName," - ").concat(s(new Date(t[e].dob)))},t[e].id)}))})]})};var w=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(o.a,{path:"/",exact:!0,children:Object(n.jsx)("div",{className:"employees_link",children:Object(n.jsx)(l.b,{to:"/employees",children:"Go to employees page"})})}),Object(n.jsx)(o.a,{path:"/employees",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"employess_page",children:[Object(n.jsx)(v,{}),Object(n.jsx)(S,{})]})})})]})})},D=c(15),M=c(37),L=E,I=Object(D.c)(L,Object(D.a)(M.a));window.store=I;var J=I;r.a.render(Object(n.jsx)(d.a,{store:J,children:Object(n.jsx)(w,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.761eb031.chunk.js.map